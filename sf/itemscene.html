<!DOCTYPE html>
<html>
    <head>
        <title>Item scenarion</title>
        <script src="https://code.jquery.com/jquery-3.6.0.js" 
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script>

            $(()=>{
                    console.log("DOM");
                $('#itemno').blur(()=>{
                        let y=$('#itemno').val();

                        console.log("itemno blur");

                        document.querySelector('#itemno').disabled=true;

                        let parameters={
                            data:{x:y},
                            url:'http://localhost:9898/getDetails',
                            type:'get',
                            dataType:'json',
                            success:(serverresponse)=>{
                                console.log(serverresponse);
                                if(serverresponse.status==true){
                                   $('#msg').text('Item already exist');
                                    $('#iname').val(serverresponse.itemDetails.itemname);
                                    $('#price').val(serverresponse.itemDetails.price);
                                }else{
                                    $('#msg').text('Item not found');
                                    $('#iname').val(" ");
                                    $('#price').val(" ");
                                }
                            },
                            error:(serverresponse)=>{
                                console.log('Error in response from server'+serverresponse);
                            }
                        };

                        console.log("AJAX time");
                        $.ajax(parameters);

                });


            });
        </script>
    </head>
    <body>
        <h1>Item Details</h1>
        <input type="text" id="itemno" placeholder="Enter Item Number"/>
        <span id="msg">Item status</span><br/>
        <input type="text" id="iname" placeholder="Item Name..."/><br/>
        <input type="text" id="price" placeholder="price..."/><br/>
        <button id="additm">Add Item</button>
        <button id="updtitem">Update Item</button>
        <hr/>
        <p id="details">Show all items here</p>

    </body>
</html>